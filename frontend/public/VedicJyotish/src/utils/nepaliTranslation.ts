/**
 * Translation utilities for converting Hindi text to Nepali
 */

// Hindi to Nepali character mapping
const hindiToNepaliMapping: Record<string, string> = {
    // Basic vowels
    'अ': 'अ', 'आ': 'आ', 'इ': 'इ', 'ई': 'ई', 'उ': 'उ', 'ऊ': 'ऊ', 'ऋ': 'ऋ', 'ए': 'ए', 'ऐ': 'ऐ', 'ओ': 'ओ', 'औ': 'औ',
    
    // Consonants
    'क': 'क', 'ख': 'ख', 'ग': 'ग', 'घ': 'घ', 'ङ': 'ङ',
    'च': 'च', 'छ': 'छ', 'ज': 'ज', 'झ': 'झ', 'ञ': 'ञ',
    'ट': 'ट', 'ठ': 'ठ', 'ड': 'ड', 'ढ': 'ढ', 'ण': 'ण',
    'त': 'त', 'थ': 'थ', 'द': 'द', 'ध': 'ध', 'न': 'न',
    'प': 'प', 'फ': 'फ', 'ब': 'ब', 'भ': 'भ', 'म': 'म',
    'य': 'य', 'र': 'र', 'ल': 'ल', 'व': 'व', 'श': 'श',
    'ष': 'ष', 'स': 'स', 'ह': 'ह', 'क्ष': 'क्ष', 'त्र': 'त्र', 'ज्ञ': 'ज्ञ',
    
    // Matras (vowel signs)
    'ा': 'ा', 'ि': 'ि', 'ी': 'ी', 'ु': 'ु', 'ू': 'ू', 'ृ': 'ृ', 'े': 'े', 'ै': 'ै', 'ो': 'ो', 'ौ': 'ौ',
    
    // Numbers
    '०': '०', '१': '१', '२': '२', '३': '३', '४': '४', '५': '५', '६': '६', '७': '७', '८': '८', '९': '९',
    
    // Common words and phrases
    'भाव': 'भाव', 'राशि': 'राशि', 'लग्न': 'लग्न', 'नक्षत्र': 'नक्षत्र', 'ग्रह': 'ग्रह',
    'सूर्य': 'सूर्य', 'चन्द्र': 'चन्द्र', 'मंगल': 'मंगल', 'बुध': 'बुध', 'गुरु': 'गुरु',
    'शुक्र': 'शुक्र', 'शनि': 'शनि', 'राहु': 'राहु', 'केतु': 'केतु',
    'मेष': 'मेष', 'वृष': 'वृष', 'मिथुन': 'मिथुन', 'कर्क': 'कर्क', 'सिंह': 'सिंह', 'कन्या': 'कन्या',
    'तुला': 'तुला', 'वृश्चिक': 'वृश्चिक', 'धनु': 'धनु', 'मकर': 'मकर', 'कुम्भ': 'कुम्भ', 'मीन': 'मीन',
    'अश्विनी': 'अश्विनी', 'भरणी': 'भरणी', 'कृतिका': 'कृतिका', 'रोहिणी': 'रोहिणी', 'मृगशिरा': 'मृगशिरा',
    'आर्द्रा': 'आर्द्रा', 'पुनर्वसु': 'पुनर्वसु', 'पुष्य': 'पुष्य', 'अश्लेषा': 'अश्लेषा', 'मघा': 'मघा',
    'पूर्वाफाल्गुनी': 'पूर्वाफाल्गुनी', 'उत्तराफाल्गुनी': 'उत्तराफाल्गुनी', 'हस्त': 'हस्त', 'चित्रा': 'चित्रा',
    'स्वाती': 'स्वाती', 'विशाखा': 'विशाखा', 'अनुराधा': 'अनुराधा', 'ज्येष्ठा': 'ज्येष्ठा', 'मूल': 'मूल',
    'पूर्वाषाढ़ा': 'पूर्वाषाढ़ा', 'उत्तराषाढ़ा': 'उत्तराषाढ़ा', 'श्रवण': 'श्रवण', 'धनिष्ठा': 'धनिष्ठा',
    'शतभिषा': 'शतभिषा', 'पूर्वभाद्रपद': 'पूर्वभाद्रपद', 'उत्तरभाद्रपद': 'उत्तरभाद्रपद', 'रेवती': 'रेवती',
    
    // Common astrological terms
    'दृष्टि': 'दृष्टि', 'योग': 'योग', 'करण': 'करण', 'तिथि': 'तिथि', 'वार': 'वार', 'मास': 'मास',
    'संवत्सर': 'संवत्सर', 'पक्ष': 'पक्ष', 'शुक्ल': 'शुक्ल', 'कृष्ण': 'कृष्ण',
    'प्रथम': 'प्रथम', 'द्वितीय': 'द्वितीय', 'तृतीय': 'तृतीय', 'चतुर्थ': 'चतुर्थ', 'पंचम': 'पंचम',
    'षष्ठ': 'षष्ठ', 'सप्तम': 'सप्तम', 'अष्टम': 'अष्टम', 'नवम': 'नवम', 'दशम': 'दशम',
    'एकादश': 'एकादश', 'द्वादश': 'द्वादश',
    
    // Effects and results
    'फल': 'फल', 'परिणाम': 'परिणाम', 'प्रभाव': 'प्रभाव',
    'सुख': 'सुख', 'दुःख': 'दुःख', 'धन': 'धन', 'यश': 'यश', 'कीर्ति': 'कीर्ति',
    'बुद्धि': 'बुद्धि', 'विद्या': 'विद्या', 'ज्ञान': 'ज्ञान', 'शिक्षा': 'शिक्षा',
    'विवाह': 'विवाह', 'संतान': 'संतान', 'पुत्र': 'पुत्र', 'पुत्री': 'पुत्री',
    'स्वास्थ्य': 'स्वास्थ्य', 'रोग': 'रोग', 'बीमारी': 'बीमारी', 'आरोग्य': 'आरोग्य',
    'मृत्यु': 'मृत्यु', 'आयु': 'आयु', 'जीवन': 'जीवन', 'दीर्घायु': 'दीर्घायु',
    'यात्रा': 'यात्रा', 'विदेश': 'विदेश', 'प्रवास': 'प्रवास', 'स्थान': 'स्थान',
    'कार्य': 'कार्य', 'व्यापार': 'व्यापार', 'धंधा': 'धंधा', 'रोजगार': 'रोजगार',
    'मित्र': 'मित्र', 'शत्रु': 'शत्रु', 'दुश्मन': 'दुश्मन', 'शत्रुता': 'शत्रुता',
    'कानून': 'कानून', 'न्याय': 'न्याय', 'अदालत': 'अदालत', 'मुकदमा': 'मुकदमा',
    
    // Qualities and characteristics
    'सुंदर': 'सुंदर', 'कुरूप': 'कुरूप', 'बलवान': 'बलवान', 'कमजोर': 'कमजोर',
    'बुद्धिमान': 'बुद्धिमान', 'मूर्ख': 'मूर्ख', 'शिक्षित': 'शिक्षित', 'अशिक्षित': 'अशिक्षित',
    'धनी': 'धनी', 'गरीब': 'गरीब', 'अमीर': 'अमीर', 'निर्धन': 'निर्धन',
    'सुखी': 'सुखी', 'दुःखी': 'दुःखी', 'खुश': 'खुश', 'उदास': 'उदास',
    'स्वस्थ': 'स्वस्थ', 'बीमार': 'बीमार', 'रुग्ण': 'रुग्ण',
    
    // Actions and verbs
    'होना': 'हुनु', 'करना': 'गर्नु', 'देखना': 'हेर्नु', 'सुनना': 'सुन्नु',
    'बोलना': 'बोल्नु', 'चलना': 'हिड्नु', 'बैठना': 'बस्नु', 'उठना': 'उठ्नु',
    'खाना': 'खानु', 'पीना': 'पिउनु', 'सोना': 'सुत्नु', 'जागना': 'जाग्नु',
    'पढ़ना': 'पढ्नु', 'लिखना': 'लेख्नु', 'गाना': 'गाउनु', 'नाचना': 'नाच्नु',
    'खेलना': 'खेल्नु', 'काम': 'काम', 'गर्नु': 'गर्नु', 'बनाना': 'बनाउनु',
    
    // Time and dates
    'आज': 'आज', 'कल': 'हिजो', 'परसों': 'परसों', 'सोमवार': 'सोमवार',
    'मंगलवार': 'मंगलवार', 'बुधवार': 'बुधवार', 'गुरुवार': 'गुरुवार',
    'शुक्रवार': 'शुक्रवार', 'शनिवार': 'शनिवार', 'रविवार': 'रविवार',
    'सुबह': 'बिहान', 'दोपहर': 'दिउँसो', 'शाम': 'साँझ', 'रात': 'रात',
    'जनवरी': 'जनवरी', 'फरवरी': 'फरवरी', 'मार्च': 'मार्च', 'अप्रैल': 'अप्रैल',
    'मई': 'मई', 'जून': 'जून', 'जुलाई': 'जुलाई', 'अगस्त': 'अगस्त',
    'सितंबर': 'सितंबर', 'अक्टूबर': 'अक्टूबर', 'नवंबर': 'नवंबर', 'दिसंबर': 'दिसंबर',
    
    // Common phrases
    'में': 'मा', 'पर': 'मा', 'से': 'बाट', 'को': 'लाई', 'का': 'को', 'की': 'को',
    'है': 'छ', 'हैं': 'छन्', 'था': 'थियो', 'थे': 'थिए', 'होगा': 'हुनेछ', 'होंगे': 'हुनेछन्',
    'और': 'र', 'या': 'वा', 'लेकिन': 'तर', 'क्योंकि': 'किनभने', 'अगर': 'यदि',
    'तो': 'भने', 'जब': 'जब', 'कहाँ': 'कहाँ', 'कैसे': 'कसरी', 'क्यों': 'किन',
    'कौन': 'को', 'क्या': 'के', 'कितना': 'कति', 'कब': 'कहिले',
    
    // Astrological specific terms
    'दशा': 'दशा', 'अंतर': 'अन्तर', 'प्रत्यंतर': 'प्रत्यन्तर', 'सूक्ष्म': 'सूक्ष्म',
    'प्राण': 'प्राण', 'देह': 'देह', 'महादशा': 'महादशा', 'अंतरदशा': 'अन्तरदशा',
    'प्रत्यंतरदशा': 'प्रत्यन्तरदशा', 'सूक्ष्मदशा': 'सूक्ष्मदशा', 'प्राणदशा': 'प्राणदशा',
    'देहदशा': 'देहदशा', 'भुक्ति': 'भुक्ति',
    
    // House names in Nepali
    'प्रथम भाव': 'प्रथम भाव', 'द्वितीय भाव': 'द्वितीय भाव', 'तृतीय भाव': 'तृतीय भाव',
    'चतुर्थ भाव': 'चतुर्थ भाव', 'पंचम भाव': 'पंचम भाव', 'षष्ठ भाव': 'षष्ठ भाव',
    'सप्तम भाव': 'सप्तम भाव', 'अष्टम भाव': 'अष्टम भाव', 'नवम भाव': 'नवम भाव',
    'दशम भाव': 'दशम भाव', 'एकादश भाव': 'एकादश भाव', 'द्वादश भाव': 'द्वादश भाव',
    
    // Special characters and punctuation
    '।': '।', '॥': '॥', '?': '?', '!': '!', ',': ',', '.': '.', ';': ';', ':': ':',
    '"': '"', "'": "'", '(': '(', ')': ')', '[': '[', ']': ']', '{': '{', '}': '}',
    ' ': ' ', '\n': '\n', '\t': '\t'
};

/**
 * Converts Hindi text to Nepali text
 * @param hindiText - The Hindi text to convert
 * @returns The converted Nepali text
 */
export function convertHindiToNepali(hindiText: string): string {
    if (!hindiText) return '';
    
    let nepaliText = hindiText;
    
    // Convert character by character
    for (const [hindi, nepali] of Object.entries(hindiToNepaliMapping)) {
        nepaliText = nepaliText.replace(new RegExp(hindi, 'g'), nepali);
    }
    
    return nepaliText;
}

/**
 * Converts a Translation object from Hindi to Nepali
 * @param translation - The translation object with english and hindi properties
 * @returns The translation object with nepali property added
 */
export function convertTranslationToNepali<T>(translation: { english: T; hindi: T }): { english: T; hindi: T; nepali: T } {
    return {
        ...translation,
        nepali: convertHindiToNepali(translation.hindi as string) as T
    };
}

/**
 * Converts all Hindi text in an object to Nepali
 * @param obj - The object containing Hindi text
 * @returns The object with Nepali text
 */
export function convertObjectHindiToNepali(obj: any): any {
    if (typeof obj === 'string') {
        return convertHindiToNepali(obj);
    }
    
    if (Array.isArray(obj)) {
        return obj.map(convertObjectHindiToNepali);
    }
    
    if (obj && typeof obj === 'object') {
        const result: any = {};
        for (const [key, value] of Object.entries(obj)) {
            if (key === 'hindi' && typeof value === 'string') {
                result.nepali = convertHindiToNepali(value);
            }
            result[key] = convertObjectHindiToNepali(value);
        }
        return result;
    }
    
    return obj;
}
